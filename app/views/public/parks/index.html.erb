<div class='container'>
  <div class='row'>
    <div class="col-md-12">
      <h4 class="mt-5"><strong>遊び場一覧</strong></h4>
      <div class="row mx-auto pb-5">
        <% @parks.each do |park| %>
        <%= link_to park_path(park.id), class: "col-3 text-center text-dark text-nowrap mt-5" do %>
          <div id='map'></div>

          <style>
          #map {
            height: 250px;
            width: 250px;
            }
          </style>

          <script>
            let map

            function initMap(){
            geocoder = new google.maps.Geocoder()

            map = new google.maps.Map(document.getElementById('map'), {
              center: {lat: <%= park.latitude %>, lng: <%= park.longitude %>},
              zoom: 12,
              disableDefaultUI: true,
              });

              marker = new google.maps.Marker({
              position:  {lat: <%= park.latitude %>, lng: <%= park.longitude %>},
              map: map
              });
            }
          </script>
          <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=<%= ENV['GOOGLE_MAP_API_KEY'] %>&callback=initMap">
          </script>
            <%= park.name %>
          <% end %>
        <% end %>
     </div>
    </div>
  </div>
</div>